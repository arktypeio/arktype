---
import { TabItem, Tabs } from "@astrojs/starlight/components"
import Code from "./Code.astro"

interface Props {
	string?: string
	tuple?: string
	spread?: string
	fluent?: string
}

const withArkTypeImports = (code: string | undefined) =>
	code &&
	`import { type, scope } from "arktype"
// ---cut---
${code}`

const stringCode = withArkTypeImports(Astro.props.string)
const tupleCode = withArkTypeImports(Astro.props.tuple)
const spreadCode = withArkTypeImports(Astro.props.spread)
const fluentCode = withArkTypeImports(Astro.props.fluent)
---

<Tabs>
	{
		stringCode && (
			<TabItem label="string">
				<Code code={stringCode} lang="ts" />
			</TabItem>
		)
	}
	{
		tupleCode && (
			<TabItem label="tuple">
				<Code code={tupleCode} lang="ts" />
			</TabItem>
		)
	}
	{
		spreadCode && (
			<TabItem label="spread">
				<Code code={spreadCode} lang="ts" />
			</TabItem>
		)
	}
	{
		fluentCode && (
			<TabItem label="fluent">
				<Code code={fluentCode} lang="ts" />
			</TabItem>
		)
	}
</Tabs>
