datasource dev {
  provider = "sqlite"
  url      = env("SQLITE_URL")
  enabled  = env("ENABLE_SQLITE")
}

datasource prod {
  provider = "mysql"
  url      = env("MYSQL_URL")
  enabled  = env("ENABLE_MYSQL")
}

generator photon {
  provider      = "photonjs"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

model Tag {
  id   Int    @id
  user User
  name String
  @@unique([name, user])
}

model Selector {
  id  Int    @id
  css String
}

model Step {
  id       Int      @id
  action   String
  selector Selector
  value    String
  tests    Test[]
}

model Test {
  id    Int    @id
  user  User
  name  String
  steps Step[]
  tags  Tag[]
  @@unique([name, user])
}

model User {
  id        Int        @id
  email     String     @unique
  password  String
  first     String
  last      String
  steps     Step[]
  selectors Selector[]
  tags      Tag[]
  tests     Test[]
}